#include <ESP32Servo.h>
int pin21 = 12;
int pin22 = 15;

int pos21 = 0;
int pos22 = 180;
int orientacion = 1;
Servo servo21; //izquierda
Servo servo22; //derecha

void setup() {
  Serial.begin(115200);
  servo21.attach(pin21);
  servo22.attach(pin22);
  delay(100);
}

void loop() {
  if (Serial.available()) {
    String serialEntrada = Serial.readStringUntil('\n');
    int entrada = serialEntrada.toInt();
    Serial.print("Entrada: ");
    Serial.println(entrada);

    if(pos21 > entrada){
      orientacion = -1;
    } 
    if(pos21 < entrada){
      orientacion = 1;
    }
    pos21 = entrada;

    
    if(orientacion > 0) {
      pos22 = pos22-entrada;
    } else if (orientacion < 0){
      pos22 = pos22+entrada;
    }
    servo21.write(pos21);
    servo22.write(pos22);

    
  }

  // if (Serial.available()) {
  //   String serialEntrada = Serial.readStringUntil('\n');
  //   int entrada = serialEntrada.toInt();
  //   Serial.print("Entrada: ");
  //   Serial.println(entrada);
  //   pos21 = entrada;
    
  // }
  // servo21.write(pos21);
  // delay(100);
  
//  if(pos21 >= 180){
//    orientacion = -1;
//  }else if(pos21 <= 0){
//    orientacion = 1;
//  }
//  pos21 += orientacion;
//  servo21.write(pos21);
//  delay(500); 
}
